<!--
  Generated template for the SpielViewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Tabellen & Spielpläne</ion-title>

    <ion-buttons end>
      <button ion-button icon-only clear (click)="toggleGroupByJugend()">
        <ion-icon name="funnel"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>


  <ng-template ngFor let-spielView [ngForOf]="allSpielView">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{spielView.title}}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <p class="cursive-heading">Nächstes Spiel:</p>
        <p>Spielfeld {{spielView.nextSpiel.spielPlatz}}, {{formatDate(spielView.nextSpiel.dateTime)}}</p>
        <p>{{spielView.nextSpiel.heimMannschaft.name}} : {{spielView.nextSpiel.gastMannschaft.name}}</p>

      </ion-card-content>
      <ion-row>
        <ion-col></ion-col>
        <ion-col>
          <ion-buttons end>
            <button ion-button clear icon-end (click)="showDetailView(spielView)">Alle Spiele
              <ion-icon name="arrow-forward"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>
      </ion-row>
    </ion-card>
  </ng-template>

  <ion-buttons *ngIf="applicationData.authenticatedUser.hasRecht('ROLE_SPIELLEITER')">
    <button ion-button (click)="generateSpielplan()" clear block>Generiere Spielplan</button>
  </ion-buttons>
</ion-content>
